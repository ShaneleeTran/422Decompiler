00001000 Starting Address
Assembler used: EASy68K Editor/Assembler v5.15.04
Created On: 5/23/2017 2:54:22 PM

00000000                             1  *-----------------------------------------------------------
00000000                             2  * Title      :
00000000                             3  * Written by :
00000000                             4  * Date       :
00000000                             5  * Description:
00000000                             6  *-----------------------------------------------------------
00000000  =0000000D                  7  CR      EQU $0D
00000000  =0000000A                  8  LF      EQU $0A       
00000000                             9  
00001000                            10      ORG    $1000
00001000                            11      
00001000                            12  START:                  ; first instruction of program
00001000                            13  
00001000                            14  * Put program code here
00001000  43F9 0000136F             15          LEA     WELCOME_MSG,A1  ; welcome message
00001006  103C 000E                 16          MOVE.B  #14,D0
0000100A  4E4F                      17          TRAP    #15
0000100C  13FC 0000 000012CE        18          MOVE.B  #0,CUR_LINE
00001014                            19          
00001014                            20  USR_IN_STRT
00001014  43F9 00001399             21          LEA     USR_STRT_MSG,A1  ; user start address message
0000101A  103C 000E                 22          MOVE.B  #14,D0
0000101E  4E4F                      23          TRAP    #15
00001020                            24          
00001020  43F9 000012CF             25          LEA     STRT_INPUT,A1
00001026                            26      
00001026  103C 0002                 27          MOVE.B  #2,D0           ;read user input as string
0000102A  4E4F                      28          TRAP    #15
0000102C                            29                
0000102C  4EB9 000010DC             30          JSR     CHECK_INPUT_LEN   ;checks the length of user input
00001032                            31          
00001032  B83C 0001                 32          CMP.B   #1,D4
00001036  6700 0010                 33          BEQ     PASS_LEN_TEST        
0000103A                            34          ;else      
0000103A  43F9 000013CD             35          LEA     BAD_INPUT_MSG,A1
00001040  103C 000E                 36          MOVE.B  #14,D0
00001044  4E4F                      37          TRAP    #15
00001046  60CC                      38          BRA     USR_IN_STRT
00001048                            39          
00001048                            40  PASS_LEN_TEST        
00001048  4EB9 000010F8             41          JSR     ASCII_TO_HEX
0000104E  2A43                      42          MOVEA.L D3,A5
00001050                            43          
00001050  4EB9 0000112A             44          JSR     CHECK_INPUT_ODD
00001056  B83C 0001                 45          CMP.B   #1,D4
0000105A  6700 0004                 46          BEQ     PASS_ODD_TEST
0000105E                            47          ;else
0000105E  60B4                      48          BRA     USR_IN_STRT
00001060                            49          
00001060                            50  PASS_ODD_TEST
00001060  4EB9 00001156             51          JSR     CHECK_INPUT_BOUNDS
00001066  B83C 0000                 52          CMP.B   #0,D4
0000106A  67A8                      53          BEQ     USR_IN_STRT
0000106C  2E03                      54          MOVE.L  D3,D7
0000106E  2A43                      55          MOVEA.L D3,A5
00001070                            56          
00001070                            57  USR_IN_END
00001070  43F9 000013B4             58          LEA     USR_END_MSG,A1
00001076  103C 000E                 59          MOVE.B  #14,D0
0000107A  4E4F                      60          TRAP    #15
0000107C                            61          
0000107C  43F9 0000131F             62          LEA     END_INPUT,A1
00001082                            63          
00001082  7002                      64          MOVEQ   #2,D0
00001084  4E4F                      65          TRAP    #15
00001086  4283                      66          CLR.L   D3
00001088                            67          
00001088  4EB9 000010DC             68          JSR     CHECK_INPUT_LEN
0000108E                            69          
0000108E  B83C 0001                 70          CMP.B   #1,D4
00001092  6700 0010                 71          BEQ     PASS_LEN_TEST2
00001096                            72          ;else
00001096  43F9 000013CD             73          LEA     BAD_INPUT_MSG,A1
0000109C  103C 000E                 74          MOVE.B  #14,D0
000010A0  4E4F                      75          TRAP    #15
000010A2  60CC                      76          BRA     USR_IN_END
000010A4                            77          
000010A4                            78  PASS_LEN_TEST2
000010A4  4EB9 000010F8             79          JSR     ASCII_TO_HEX
000010AA  2C43                      80          MOVEA.L D3,A6
000010AC                            81          
000010AC  4EB9 0000112A             82          JSR     CHECK_INPUT_ODD
000010B2  B83C 0001                 83          CMP.B   #1,D4
000010B6  6700 0004                 84          BEQ     PASS_ODD_TEST2
000010BA                            85          ;else
000010BA                            86          
000010BA  60B4                      87          BRA     USR_IN_END
000010BC                            88          
000010BC                            89  PASS_ODD_TEST2
000010BC  4EB9 00001156             90          JSR     CHECK_INPUT_BOUNDS
000010C2  B83C 0000                 91          CMP.B   #0,D4
000010C6  67A8                      92          BEQ     USR_IN_END
000010C8                            93          ;else
000010C8  2C43                      94          MOVEA.L D3,A6
000010CA                            95          
000010CA  544E                      96          ADD     #2,A6
000010CC  43F9 00001442             97          LEA     WAIT_MSG,A1
000010D2  103C 000E                 98          MOVE.B  #14,D0
000010D6  4E4F                      99          TRAP    #15
000010D8  6000 00C2                100          BRA     CONT_INPUT
000010DC                           101          
000010DC                           102  ********************************************************************************
000010DC                           103  CHECK_INPUT_LEN
000010DC  4284                     104          CLR.L   D4
000010DE  0C01 0000                105          CMPI.B  #$0,D1   ;if length of Hex is 0
000010E2  6700 0010                106          BEQ     BAD_INPUT
000010E6                           107          ;else        
000010E6  0C01 0008                108          CMPI.B  #$8,D1  ;if length of Hex is greater than 8
000010EA  6E00 0008                109          BGT     BAD_INPUT
000010EE                           110          ;else
000010EE  183C 0001                111          MOVE.B  #$1,D4
000010F2  4E75                     112          RTS
000010F4                           113  
000010F4                           114  ********************************************************************************
000010F4                           115  BAD_INPUT
000010F4  7800                     116          MOVEQ   #$0,D4
000010F6  4E75                     117          RTS
000010F8                           118          
000010F8                           119  ********************************************************************************        
000010F8                           120  ASCII_TO_HEX
000010F8  0C01 0000                121          CMPI.B  #$0,D1
000010FC  6700 002A                122          BEQ     ACII_TO_HEX_FINISHED
00001100  1419                     123          MOVE.B  (A1)+,D2    ;move right one character
00001102  0C02 0039                124          CMPI.B  #$39,D2
00001106  6F00 000A                125          BLE     NUM         ;if the character is a number less than 9      
0000110A                           126          ;else
0000110A                           127  LETTER
0000110A  0402 0037                128          SUBI.B  #$37,D2
0000110E  6000 000A                129          BRA     RESIZE
00001112                           130  
00001112                           131  ********************************************************************************                
00001112                           132  NUM
00001112  0402 0030                133          SUBI.B  #$30,D2
00001116  6000 0002                134          BRA     RESIZE
0000111A                           135  
0000111A                           136  ********************************************************************************
0000111A                           137  RESIZE
0000111A  5301                     138          SUBI.B  #$1,D1
0000111C  D602                     139          ADD.B   D2,D3
0000111E  0C01 0000                140          CMPI.B  #$0,D1
00001122  67D4                     141          BEQ     ASCII_TO_HEX
00001124                           142          ;else        
00001124  E99B                     143          ROL.L   #4,D3   ; rotate left 4 bits to the next char
00001126  60D0                     144          BRA     ASCII_TO_HEX
00001128                           145          
00001128                           146  *******************************************************************************
00001128                           147  ACII_TO_HEX_FINISHED
00001128  4E75                     148          RTS
0000112A                           149  
0000112A                           150  *******************************************************************************
0000112A                           151  CHECK_INPUT_ODD
0000112A  4284                     152          CLR.L   D4
0000112C  4282                     153          CLR.L   D2
0000112E  3403                     154          MOVE.W  D3,D2
00001130  7202                     155          MOVE.L  #$00000002,D1
00001132  84C1                     156          DIVU    D1,D2
00001134  4842                     157          SWAP    D2
00001136  B43C 0001                158          CMP.B   #1,D2
0000113A  6700 0008                159          BEQ     BAD_INPUT_ODD
0000113E                           160          ;else
0000113E  183C 0001                161          MOVE.B  #$1,D4
00001142  4E75                     162          RTS
00001144                           163          
00001144                           164  ******************************************************************************
00001144                           165  BAD_INPUT_ODD
00001144  43F9 000013DF            166          LEA     BAD_INPUT_ODD_MSG,A1
0000114A  103C 000E                167          MOVE.B  #14,D0
0000114E  4E4F                     168          TRAP    #15
00001150  7800                     169          MOVEQ   #$0,D4
00001152  4283                     170          CLR.L   D3
00001154  4E75                     171          RTS
00001156                           172  
00001156                           173  *****************************************************************************        
00001156                           174  CHECK_INPUT_BOUNDS
00001156  4284                     175          CLR.L   D4
00001158  223C 00007000            176          MOVE.L  #LOW_ADDR,D1
0000115E  B681                     177          CMP.L   D1,D3
00001160  6D00 0012                178          BLT     BAD_INPUT_LOW
00001164                           179          ;else
00001164  223C 00FFFFFE            180          MOVE.L  #HIGH_ADDR,D1
0000116A  B681                     181          CMP.L   D1,D3
0000116C  6E00 001A                182          BGT     BAD_INPUT_HIGH
00001170                           183          ;else
00001170  7801                     184          MOVEQ   #$1,D4
00001172  4E75                     185          RTS
00001174                           186          
00001174                           187  *****************************************************************************
00001174                           188  BAD_INPUT_LOW
00001174  43F9 0000140B            189          LEA     BAD_INPUT_LOW_MSG,A1
0000117A  103C 000E                190          MOVE.B  #14,D0
0000117E  4E4F                     191          TRAP    #15
00001180  183C 0000                192          MOVE.B  #$0,D4
00001184  4283                     193          CLR.L   D3
00001186  4E75                     194          RTS
00001188                           195          
00001188                           196  *****************************************************************************
00001188                           197  BAD_INPUT_HIGH
00001188  43F9 00001426            198          LEA     BAD_INPUT_HIGH_MSG,A1
0000118E  103C 000E                199          MOVE.B  #14,D0
00001192  4E4F                     200          TRAP    #15
00001194  183C 0000                201          MOVE.B  #$0,D4
00001198  4283                     202          CLR.L   D3
0000119A  4E75                     203          RTS
0000119C                           204          
0000119C                           205  *****************************************************************************
0000119C                           206  CONT_INPUT
0000119C  103C 000C                207          MOVE.B  #12,D0
000011A0  123C 0000                208          MOVE.B  #0,D1
000011A4  4E4F                     209          TRAP    #15
000011A6                           210          
000011A6  103C 0005                211          MOVE.B  #5,D0        
000011AA  4E4F                     212          TRAP    #15
000011AC                           213          
000011AC  6000 0002                214          BRA     MAIN_LOOP
000011B0                           215  
000011B0                           216  ****************************************************************************
000011B0                           217  MAIN_LOOP     
000011B0  3C1D                     218          MOVE.W   (A5)+, D6
000011B2  47F9 00001470            219          LEA     GOODDATA, A3
000011B8  49F9 0000146C            220          LEA     BADDATA, A4
000011BE  4EB9 0000122E            221          JSR     ADDRPRNT
000011C4  4EB9 00001202            222          JSR     BAD
000011CA  4EB9 00001288            223          JSR     DSMBLE
000011D0  BE38 00FF                224          CMP.B   $FF,D7
000011D4  6700 009E                225          BEQ     BAD_PRINT
000011D8  16FC 0000                226          MOVE.B  #$00, (A3)+
000011DC  43F9 00001470            227          LEA     GOODDATA, A1
000011E2  700D                     228          MOVEQ   #13,D0
000011E4  4E4F                     229          TRAP    #15
000011E6                           230  END_LOOP
000011E6  BCCD                     231          CMP.W   A5,A6
000011E8  6700 00E0                232          BEQ     END
000011EC  BACE                     233          CMP.W   A6,A5
000011EE  6E00 00DA                234          BGT     END
000011F2  5239 000012CE            235          ADD.B   #1, CUR_LINE
000011F8  0C39 001D 000012CE       236          CMP.B   #29, CUR_LINE
00001200  60AE                     237          BRA     MAIN_LOOP
00001202                           238  ****************************************************************************
00001202                           239  
00001202                           240  BAD
00001202  18FC 0042                241          MOVE.B  #'B',(A4)+          Insert B into the output
00001206  18FC 0041                242          MOVE.B  #'A',(A4)+          Insert A into the output
0000120A  18FC 0044                243          MOVE.B  #'D',(A4)+          Insert D into the output
0000120E  18FC 0020                244          MOVE.B  #' ',(A4)+          Insert a space into the output
00001212  18FC 0044                245          MOVE.B  #'D',(A4)+          Insert D into output
00001216  18FC 0041                246          MOVE.B  #'A',(A4)+          Insert A into output
0000121A  18FC 0054                247          MOVE.B  #'T',(A4)+          Insert T into output
0000121E  18FC 0041                248          MOVE.B  #'A',(A4)+          Insert A into output
00001222  18FC 0020                249          MOVE.B  #' ',(A4)+          Insert a space into output
00001226  18FC 0024                250          MOVE.B #'$',(A4)+           Insert a $ into output
0000122A                           251          
0000122A                           252  *BAD_GET
0000122A  7004                     253          MOVEQ   #4,D0
0000122C  3806                     254          MOVE.W  D6,D4
0000122E                           255          
0000122E                           256  ADDRPRNT
0000122E  7008                     257          MOVEQ   #8, D0
00001230  280D                     258          MOVE.L  A5, D4
00001232  5504                     259          SUB.B   #2, D4
00001234                           260  
00001234                           261  GET_MSB
00001234  E99C                     262          ROL.L   #4,D4
00001236  2A04                     263          MOVE.L  D4,D5
00001238  0285 0000000F            264          ANDI.L  #$0000000F, D5
0000123E                           265          
0000123E                           266  ASCII_CHECK
0000123E  0C05 0009                267          CMPI.B #$09,D5
00001242  6F00 000A                268          BLE     CHAR_TO_NUM
00001246                           269          ;else
00001246                           270  CHAR_TO_ALPHABET        
00001246  0605 0037                271          ADDI.B  #$37,D5
0000124A  6000 000A                272          BRA     MOVE_TO_GOOD_DATA
0000124E                           273          
0000124E                           274  CHAR_TO_NUM
0000124E  0605 0030                275          ADDI.B  #$30,D5
00001252  6000 0002                276          BRA     MOVE_TO_GOOD_DATA
00001256                           277          
00001256                           278  MOVE_TO_GOOD_DATA
00001256  5300                     279          SUBI.B  #1,D0
00001258  16C5                     280          MOVE.B  D5,(A3)+
0000125A  18C5                     281          MOVE.B  D5,(A4)+
0000125C  0C00 0000                282          CMPI.B  #0,D0
00001260  6ED2                     283          BGT     GET_MSB
00001262  16FC 0020                284          MOVE.B  #$20,(A3)+
00001266  16FC 0020                285          MOVE.B  #$20,(A3)+
0000126A  18FC 0020                286          MOVE.B  #$20,(A4)+
0000126E  18FC 0020                287          MOVE.B  #$20,(A4)+
00001272  4E75                     288          RTS
00001274                           289          
00001274                           290  ***************************************************************************
00001274                           291  BAD_PRINT
00001274  18FC 0000                292          MOVE.B  #$00,(A4)+
00001278  43F9 0000146C            293          LEA     BADDATA,A1
0000127E  700D                     294          MOVEQ   #13,D0
00001280  4E4F                     295          TRAP    #15
00001282  4287                     296          CLR.L   D7
00001284  6000 FF60                297          BRA     END_LOOP
00001288                           298  
00001288                           299  ***************************************************************************
00001288                           300  DSMBLE  
00001288  4201                     301          CLR.B   D1
0000128A  3A06                     302          MOVE.W  D6,D5
0000128C  E04D                     303          LSR.W   #8, D5
0000128E  E84D                     304          LSR.W   #4, D5
00001290  CAFC 0008                305          MULU    #8, D5
00001294  41F9 000012A0            306          LEA     FIRSTJMP, A0
0000129A  4EB0 5000                307          JSR     0(A0,D5) *0(A0,D5)?
0000129E  4E75                     308          RTS
000012A0                           309  
000012A0                           310  ****************************************************************************
000012A0                           311  FIRSTJMP
000012A0  4EB9 000012A8            312          JSR     FIRST0001
000012A6  4E75                     313          RTS
000012A8                           314          
000012A8                           315  FIRST0001
000012A8  16FC 004D                316          MOVE.B  #'M',(A3)+                  Insert M into the output
000012AC  16FC 004F                317          MOVE.B  #'O',(A3)+                  Insert O into the output
000012B0  16FC 0056                318          MOVE.B  #'V',(A3)+                  Insert V into the output
000012B4  16FC 0045                319          MOVE.B  #'E',(A3)+                  Insert E into the output
000012B8  16FC 002E                320          MOVE.B  #'.',(A3)+                  Insert . into the output
000012BC  16FC 0042                321          MOVE.B  #'B',(A3)+                  Insert B into the output
000012C0  16FC 0020                322          MOVE.B  #' ',(A3)+                  Insert a space into the output
000012C4  16FC 0020                323          MOVE.B  #' ',(A3)+                  Insert a space into the output
000012C8                           324      
000012C8  4E75                     325          RTS                                 Return the instruction
000012CA                           326  
000012CA                           327          
000012CA                           328  END                
000012CA  FFFF FFFF                329      SIMHALT             ; halt simulator
000012CE                           330                 
000012CE                           331  
000012CE                           332  * Put variables and constants here
000012CE                           333  CUR_LINE    DS.B    1
000012CF                           334  STRT_INPUT  DS.B    80
0000131F                           335  END_INPUT   DS.B    80
0000136F= 53 68 61 6E 65 6C ...    336  WELCOME_MSG DC.B    'Shanelee Tran and Tyler Do Disassembler',CR,LF,0
00001399= 0D 0A 45 6E 74 65 ...    337  USR_STRT_MSG    DC.B    CR,LF,'Enter starting address: ',0
000013B4= 0D 0A 45 6E 74 65 ...    338  USR_END_MSG    DC.B    CR,LF,'Enter ending address: ',0
000013CD= 0D 0A 49 6E 76 61 ...    339  BAD_INPUT_MSG   DC.B    CR,LF,'Invalid address',0
000013DF= 0D 0A 49 6E 76 61 ...    340  BAD_INPUT_ODD_MSG   DC.B    CR,LF,'Invalid address, no odd addresses allowed',0
0000140B= 0D 0A 49 6E 76 61 ...    341  BAD_INPUT_LOW_MSG   DC.B    CR,LF,'Invalid address, too low',0
00001426= 0D 0A 49 6E 76 61 ...    342  BAD_INPUT_HIGH_MSG  DC.B    CR,LF,'Invalid address, too high',0
00001442= 0D 0A 50 72 65 73 ...    343  WAIT_MSG    DC.B    CR,LF,'Press any key to continue',0
0000145E= 0D 0A 79 6F 75 20 ...    344  TEST_MSG    DC.B    CR,LF,'you made it',0
0000146C= 00000001                 345  BADDATA DC.L 1
00001470= 00000001                 346  GOODDATA DC.L 1
00001474                           347  
00001474  =00007000                348  LOW_ADDR    EQU     $00007000
00001474  =00FFFFFE                349  HIGH_ADDR   EQU     $00FFFFFE
00001474                           350      END    START        ; last line of source

No errors detected
No warnings generated


SYMBOL TABLE INFORMATION
Symbol-name         Value
-------------------------
ACII_TO_HEX_FINISHED  1128
ADDRPRNT            122E
ASCII_CHECK         123E
ASCII_TO_HEX        10F8
BAD                 1202
BADDATA             146C
BAD_INPUT           10F4
BAD_INPUT_HIGH      1188
BAD_INPUT_HIGH_MSG  1426
BAD_INPUT_LOW       1174
BAD_INPUT_LOW_MSG   140B
BAD_INPUT_MSG       13CD
BAD_INPUT_ODD       1144
BAD_INPUT_ODD_MSG   13DF
BAD_PRINT           1274
CHAR_TO_ALPHABET    1246
CHAR_TO_NUM         124E
CHECK_INPUT_BOUNDS  1156
CHECK_INPUT_LEN     10DC
CHECK_INPUT_ODD     112A
CONT_INPUT          119C
CR                  D
CUR_LINE            12CE
DSMBLE              1288
END                 12CA
END_INPUT           131F
END_LOOP            11E6
FIRST0001           12A8
FIRSTJMP            12A0
GET_MSB             1234
GOODDATA            1470
HIGH_ADDR           FFFFFE
LETTER              110A
LF                  A
LOW_ADDR            7000
MAIN_LOOP           11B0
MOVE_TO_GOOD_DATA   1256
NUM                 1112
PASS_LEN_TEST       1048
PASS_LEN_TEST2      10A4
PASS_ODD_TEST       1060
PASS_ODD_TEST2      10BC
RESIZE              111A
START               1000
STRT_INPUT          12CF
TEST_MSG            145E
USR_END_MSG         13B4
USR_IN_END          1070
USR_IN_STRT         1014
USR_STRT_MSG        1399
WAIT_MSG            1442
WELCOME_MSG         136F
